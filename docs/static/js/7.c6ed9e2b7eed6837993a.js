webpackJsonp([7],{eMvP:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{loading:!1,post:null,error:null}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;this.error=this.post=null,this.loading=!0,this.getPost(this.$route.params.id,function(e,o){t.loading=!1,e?t.error=e.toString():t.post=o})},getPost:function(t,e){setTimeout(function(){e(null,{title:"title-"+t,body:"body - "+t})},3e3)}},beforeRouteLeave:function(t,e,o){this.post=null,this.error=null,this.loading=!0,console.log("before route leave"),o()}},s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"post"},[o("h1",[t._v("导航完成后获取数据")]),t._v(" "),t.loading?o("div",{staticClass:"loading"},[t._v("\n    Loading...\n  ")]):t._e(),t._v(" "),t.error?o("div",{staticClass:"error"},[t._v("\n    "+t._s(t.error)+"\n  ")]):t._e(),t._v(" "),t.post?o("div",{staticClass:"content"},[o("h2",[t._v(t._s(t.post.title))]),t._v(" "),o("p",[t._v(t._s(t.post.body))])]):t._e(),t._v(" "),o("h1",[t._v("在导航完成前获取数据")]),t._v(" "),o("router-link",{attrs:{to:{name:"FetchingData",params:{id:123}}}},[t._v("在导航完成前获取数据")])],1)},r=[],i={render:s,staticRenderFns:r},a=i,l=o("VU/8"),u=l(n,a,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=7.c6ed9e2b7eed6837993a.js.map